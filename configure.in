dnl Process this file with autoconf to produce a configure script.
AC_INIT(grap.h)
ac_random_declared="no"
AC_LANG_CPLUSPLUS

dnl Checks for programs.
AC_PROG_CXX
AC_PROG_LEX
AC_PROG_YACC
AC_PROG_INSTALL

dnl Checks for libraries.

dnl Checks for header files.
AC_HEADER_STDC

#solaris does not declare random in stdlib.h

if test $ac_cv_header_stdc = yes; then
	echo $ac_n "checking for declaration of random() in stdlib.h... "
	AC_EGREP_HEADER(random,/usr/include/stdlib.h,echo "yes";
AC_DEFINE(RANDOM_DECLARED)
ac_random_declared="yes",echo "no")
fi

#If we have not found a declaration from random, check math.h

if test $ac_random_declared = no; then
	echo $ac_n "checking for declaration of random() in math.h... "
	AC_EGREP_HEADER(random,/usr/include/math.h,echo "yes";
AC_DEFINE(RANDOM_DECLARED)
ac_random_declared="yes",echo "no")
fi
AC_CHECK_HEADERS(unistd.h)

dnl Checks for typedefs, structures, and compiler characteristics.
AC_TYPE_SIZE_T

dnl Checks for library functions.
AC_CHECK_FUNCS(strdup)
AC_CHECK_FUNCS(random)
AC_CHECK_FUNCS(snprintf)
AC_OUTPUT(examples/Makefile Makefile)
